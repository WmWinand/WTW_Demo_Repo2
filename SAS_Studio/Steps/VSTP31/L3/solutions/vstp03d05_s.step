{"creationTimeStamp":"2023-06-30T10:27:48.987Z","modifiedTimeStamp":"2023-07-18T11:30:26.762Z","createdBy":"student","modifiedBy":"student","name":"vstp03d05_s.step","displayName":"vstp03d05_s.step","localDisplayName":"vstp03d05_s.step","properties":{},"links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","uri":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","uri":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","uri":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","uri":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","uri":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","uri":"/dataFlows/steps/cd4d6d0f-6526-44e9-beb4-3035c04c8186","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":0.0,"version":2,"type":"code","flowMetadata":{"inputPorts":[{"name":"inputTable","displayName":"Use a Table step to specify input table ","localDisplayName":"Use a Table step to specify input table ","minEntries":1,"maxEntries":1,"type":"table"}],"outputPorts":[{"name":"outputTable","displayName":"Use a Table step to specify output table","localDisplayName":"Use a Table step to specify output table","minEntries":1,"maxEntries":1,"type":"table","supportsView":false,"requiresStructure":false}]},"ui":"{\n\t\"showPageContentOnly\": false,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"Options\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Options\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Data\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Data\",\n\t\t\t\t\t\"open\": true,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"inputTable\",\n\t\t\t\t\t\t\t\"type\": \"inputtable\",\n\t\t\t\t\t\t\t\"label\": \"Select the source table:\",\n\t\t\t\t\t\t\t\"required\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Filter\",\n\t\t\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\t\t\"label\": \"Filter\",\n\t\t\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"id\": \"filterColumn1\",\n\t\t\t\t\t\t\t\t\t\"type\": \"columnselector\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Select a column to filter:\",\n\t\t\t\t\t\t\t\t\t\"order\": false,\n\t\t\t\t\t\t\t\t\t\"columntype\": \"c\",\n\t\t\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\t\t\"table\": \"inputTable\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"id\": \"filterCol1DropDown\",\n\t\t\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Select a value to filter:\",\n\t\t\t\t\t\t\t\t\t\"items\": {\n\t\t\t\t\t\t\t\t\t\t\"ref\": \"filterColumn1\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"id\": \"filterColumn2\",\n\t\t\t\t\t\t\t\t\t\"type\": \"columnselector\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Select an optional second column to filter:\",\n\t\t\t\t\t\t\t\t\t\"order\": false,\n\t\t\t\t\t\t\t\t\t\"columntype\": \"c\",\n\t\t\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\t\t\t\t\"visible\": \"$filterColumn1\",\n\t\t\t\t\t\t\t\t\t\"table\": \"inputTable\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"id\": \"filterCol2List\",\n\t\t\t\t\t\t\t\t\t\"type\": \"list\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Select an optional second value to filter:\",\n\t\t\t\t\t\t\t\t\t\"items\": {\n\t\t\t\t\t\t\t\t\t\t\"ref\": \"filterColumn2\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\t\t\t\t\"visible\": \"$filterColumn2\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"rankCol\",\n\t\t\t\t\t\t\t\"type\": \"columnselector\",\n\t\t\t\t\t\t\t\"label\": \"Select a single column to rank:\",\n\t\t\t\t\t\t\t\"order\": false,\n\t\t\t\t\t\t\t\"columntype\": \"n\",\n\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\"table\": \"inputTable\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"outputTable\",\n\t\t\t\t\t\t\t\"type\": \"outputtable\",\n\t\t\t\t\t\t\t\"label\": \"Specify the output table:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"AdditionalOptions\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Additional Options\",\n\t\t\t\t\t\"open\": true,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"numObs\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Choose top-ranking number:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 5\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"About\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"About\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text1\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"This custom step creates an output data table that is filtered by \\na chosen value of a ranked column. For example, the Top 5 sales made.\\n\\nPrompts include:\\n - a Numeric Stepper to enable the user to filter the ranked rows/observations.\\n- an Input Table to enable the user to choose the input table (displayed as ports when used in a flow).\\n- an Output Table to enable the user to specify the output table (displayed as ports when used in a flow).\\n- a Column Selector to enable the user to choose a single numeric column to rank.\\n- a Column Selector to enable the user to choose a single column to filter.\\n- a Drop-down List to enable the user to select a single dynamic value from a drop down list.\\n- a Column Selector control to enable the user to choose another single column to filter.\\n- a List to enable the user to select a single dynamic value from a list.\\n\\nCreated By:\\nDate Created:\\nVersion: 1.1\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"filterColumn1\": [],\n\t\t\"filterCol1DropDown\": null,\n\t\t\"filterColumn2\": [],\n\t\t\"filterCol2List\": [],\n\t\t\"rankCol\": [],\n\t\t\"outputTable\": {\n\t\t\t\"library\": \"\",\n\t\t\t\"table\": \"\"\n\t\t},\n\t\t\"numObs\": 10\n\t},\n\t\"promptHierarchies\": [\n\t\t{\n\t\t\t\"name\": \"filterHierarchy\",\n\t\t\t\"levels\": [\n\t\t\t\t\"filterCol1DropDown\",\n\t\t\t\t\"filterCol2List\"\n\t\t\t]\n\t\t}\n\t]\n}","templates":{"SAS":"proc rank  /*1*/\n\t\tdata=&inputTable /*2*/\n\t\tout=&outputTable /*3*/\n\t\t(where = (rank_&rankCol<=&numobs)) /*4*/\n\t\tdescending; /*5*/\n\t%if &filterColumn1 ne  %then %do; /*6*/\n\t\twhere &filterColumn1 =\"&filterCol1DropDown\";/*7*/\n\t%end;/*8*/\n\t%if &filterColumn2 ne  %then %do;/*6*/\n\t\twhere also &filterColumn2 =\"&filterCol2List_1\";/*9*/\n\t%end;/*8*/\n    var &rankCol;   /*10*/\n    ranks rank_&rankCol; /*11*/\nrun; /*12*/\n\n/*\n1. The RANK procedure computes ranks for one or more numeric variables.\n2. The data=specifies the input data set.\n3. The out= specifies the output data set.\n4. The where= data set option on the output data uses specific conditions to write observations to the SAS data set.\n5. The descending option reverses the direction of the ranks. With DESCENDING, the largest value receives a rank of 1.\n6. The %IF %THEN %DO statement conditionally process a portion of macro/code.\n7. The WHERE statement selects rows from SAS tables that meet a particular condition.\n8. The %END statement ends a %DO group.\n9. Adding an ALSO to the WHERE statement selects observations from the table that meet the conditions that you specify and any other conditions that are already in effect.\n10.The VAR statement specifies the ranking variable(s).\n11.The RANKS statement creates new variables for the rank values.\n12.The RUN statement executes the previously entered SAS statements.\n*/"}}